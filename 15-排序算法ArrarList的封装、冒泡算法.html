<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>排序算法ArrayList封装、冒泡算法</title>
</head>
<body>
  <script>
    function ArrayList() {
      this.array = [];
      ArrayList.prototype.insert = function(item) {
        this.array.push(item);
      }
      ArrayList.prototype.toString = function() {
        return this.array.join(' ');
      }

      //因为这个交换非常常用，所以直接提取出来。
      ArrayList.prototype.swap = function(m, n) {
        var temp = this.array[m];
        this.array[m] = this.array[n];
        this.array[n] = temp;
      }

      //冒泡算法
      ArrayList.prototype.bubbleSort = function() {
        let length = this.array.length;

        //视频方法
        // for(let j = length - 1; j >= 0; j--) {
        //   for(let i = 0; i < j; i++) {
        //     if(this.array[i] > this.array[i+1]) {
        //       this.swap(i, i+1);
        //     }
        //   }
        // }

        //额外补充
        for(let i = 0; i < length - 1; i++) {
          for(let j = 0; j < length - 1 - i; j++) {
            if(this.array[j] > this.array[j+1]) {
              this.swap(j, j+1);
            }
          }
        }
        return this.array;
      }
    }

    const list = new ArrayList();
    list.insert(2);
    list.insert(6);
    list.insert(22);
    list.insert(8);
    list.insert(-1);
    
    list.bubbleSort();
    alert(list)
  </script>
</body>
</html>